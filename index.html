<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Research App Demo</title>

    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.19.2/axios.min.js"></script>
    
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    <link rel="stylesheet" href="styles/research-app.css">
  </head>
  <body>
    <h1>Research App Demo</h1>
    <p>
      This is a simple web app built using <a href="https://vuejs.org/">Vue.js</a>
      and <a href="https://aws.amazon.com/lambda/">AWS Lambda</a> functions. The
      purpose is to test the feasibility of building web apps backed by Python
      and/or R code running on AWS serverless infrastructure.
    </p>

    <div class="container">
      <div class="row">
        <!-- Python Model -->
        <div id="py-app" class="col">
          <!-- Current data -->
          <div class="card">
            <div class="card-header">Python</div>
            <div class="card-body">
              <label for="px-x">X</label>
              <input id="py-x" type="range" min="0" max="100" v-model="model.x" @mouseup="fetchData(model.x)" class="slider">
              <span>{{ model.x }}</span>
              <hr>
              Model Output: {{ model.y | round2 }}
            </div>
          </div><br>
          <!-- Values list -->
          <div class="card" v-if="all_values.length > 0">
            <div class="card-header">
              Saved Values ({{ all_values.length }})
            </div>
            <ul class="list-group list-group-flush">
              <li class="list-group-item" v-for="(value, i) in all_values_sorted" :key="value.id">
                {{i}} | id {{value.id}}: ({{ value.x }}, {{ value.y | round2 }})
              </li>
            </ul>
          </div>
        </div>

        <!-- R Model -->
        <div id="r-app" class="col-sm">
          <h2>R</h2>
          <input type="range" min="0" max="100" v-model="x" @mouseup="fetchData(x)" class="slider">
          <span>{{ x }}</span>
          <div>
            Model Output: {{ y }}
          </div>
        </div>
      </div>
    </div>
    
    <script src="scripts/research-app.js"></script>
  </body>
</html>
